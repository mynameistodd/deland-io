---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Section from "../components/Section.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("writing")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title="Writing | Deland.io">
    <Header />

    <main class="flex-1">
        <Section class="pt-20 pb-16">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 tracking-tight">
                <span class="text-neon-blue">Writing</span>.
            </h1>
            <p
                class="text-xl md:text-2xl opacity-80 leading-relaxed max-w-2xl mb-12"
            >
                Thoughts on development, design, and technology.
            </p>

            <ul class="space-y-8 max-w-3xl">
                {
                    posts.map((post) => (
                        <li>
                            <a
                                href={`/writing/${post.slug}/`}
                                class="block group"
                            >
                                <span class="text-sm opacity-50 mb-2 block">
                                    {post.data.pubDate.toLocaleDateString(
                                        "en-us",
                                        {
                                            year: "numeric",
                                            month: "short",
                                            day: "numeric",
                                        },
                                    )}
                                </span>
                                <h3 class="text-2xl font-bold group-hover:text-neon-blue transition-colors mb-2">
                                    {post.data.title}
                                </h3>
                                <p class="opacity-70">
                                    {post.data.description}
                                </p>
                            </a>
                        </li>
                    ))
                }
            </ul>
        </Section>
    </main>

    <Footer />
</Layout>
